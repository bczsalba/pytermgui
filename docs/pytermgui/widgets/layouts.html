<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 10.0.3"/>
    <title>pytermgui.widgets.layouts API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc section{margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{filter:opacity(1);}.pdoc details:not([open]){height:0;}.pdoc details > summary{position:absolute;top:-35px;right:0;font-size:.75rem;color:var(--muted);padding:0 .7em;user-select:none;cursor:pointer;}.pdoc details > summary:focus{outline:0;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:2.5rem;}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;user-select:none;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:.5rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../widgets.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;pytermgui.widgets</a>

            <img src="https://github.com/bczsalba/pytermgui/blob/master/assets/title.png?raw=true" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#Container">Container</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Container.__init__">Container</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.chars">chars</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.styles">styles</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.keys">keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.serialized">serialized</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.vertical_align">vertical_align</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.allow_fullscreen">allow_fullscreen</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.overflow">overflow</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.sidelength">sidelength</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.selectables">selectables</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.selectables_length">selectables_length</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.selected">selected</a>
                        </li>
                        <li>
                                <a class="variable" href="#Container.box">box</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.lazy_add">lazy_add</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.get_lines">get_lines</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.set_widgets">set_widgets</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.serialize">serialize</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.pop">pop</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.remove">remove</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.set_recursive_depth">set_recursive_depth</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.select">select</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.scroll">scroll</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.scroll_end">scroll_end</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.center">center</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.handle_mouse">handle_mouse</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.execute_binding">execute_binding</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.handle_key">handle_key</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.wipe">wipe</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.print">print</a>
                        </li>
                        <li>
                                <a class="function" href="#Container.debug">debug</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Splitter">Splitter</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#Splitter.chars">chars</a>
                        </li>
                        <li>
                                <a class="variable" href="#Splitter.styles">styles</a>
                        </li>
                        <li>
                                <a class="variable" href="#Splitter.keys">keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Splitter.parent_align">parent_align</a>
                        </li>
                        <li>
                                <a class="function" href="#Splitter.get_lines">get_lines</a>
                        </li>
                        <li>
                                <a class="function" href="#Splitter.debug">debug</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
<a href="./../../pytermgui.html">pytermgui</a><wbr>.<a href="./../widgets.html">widgets</a><wbr>.layouts    </h1>

                        <div class="docstring"><p>The module containing all of the layout-related widgets.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;The module containing all of the layout-related widgets.&quot;&quot;&quot;</span>

<span class="c1"># The widgets defined here are quite complex, so I think unrestricting them this way</span>
<span class="c1"># is more or less reasonable.</span>
<span class="c1"># pylint: disable=too-many-instance-attributes, too-many-lines, too-many-public-methods</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">zip_longest</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">cast</span>

<span class="kn">from</span> <span class="nn">..ansi_interface</span> <span class="kn">import</span> <span class="n">MouseAction</span><span class="p">,</span> <span class="n">MouseEvent</span><span class="p">,</span> <span class="n">clear</span><span class="p">,</span> <span class="n">reset</span><span class="p">,</span> <span class="n">terminal</span>
<span class="kn">from</span> <span class="nn">..context_managers</span> <span class="kn">import</span> <span class="n">cursor_at</span>
<span class="kn">from</span> <span class="nn">..enums</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CenteringPolicy</span><span class="p">,</span>
    <span class="n">HorizontalAlignment</span><span class="p">,</span>
    <span class="n">SizePolicy</span><span class="p">,</span>
    <span class="n">VerticalAlignment</span><span class="p">,</span>
    <span class="n">Overflow</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">..exceptions</span> <span class="kn">import</span> <span class="n">WidthExceededError</span>
<span class="kn">from</span> <span class="nn">..helpers</span> <span class="kn">import</span> <span class="n">real_length</span>
<span class="kn">from</span> <span class="nn">..input</span> <span class="kn">import</span> <span class="n">keys</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">boxes</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">styles</span> <span class="k">as</span> <span class="n">w_styles</span>
<span class="kn">from</span> <span class="nn">.base</span> <span class="kn">import</span> <span class="n">Widget</span>


<span class="k">class</span> <span class="nc">Container</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A widget that displays other widgets, stacked vertically.&quot;&quot;&quot;</span>

    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;border&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;| &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot; |&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>
        <span class="s2">&quot;corner&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;border&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span>
        <span class="s2">&quot;corner&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span>
        <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">BACKGROUND</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;next&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">DOWN</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_N</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">},</span>
        <span class="s2">&quot;previous&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">UP</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_P</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">},</span>
        <span class="s2">&quot;scroll_down&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">SHIFT_DOWN</span><span class="p">,</span> <span class="s2">&quot;J&quot;</span><span class="p">},</span>
        <span class="s2">&quot;scroll_up&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">SHIFT_UP</span><span class="p">,</span> <span class="s2">&quot;K&quot;</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="n">serialized</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">serialized</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;centered_axis&quot;</span><span class="p">]</span>
    <span class="n">vertical_align</span> <span class="o">=</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">CENTER</span>
    <span class="n">allow_fullscreen</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">overflow</span> <span class="o">=</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>

    <span class="c1"># TODO: Add `WidgetConvertible`? type instead of Any</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">widgets</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize Container data&quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

        <span class="c1"># TODO: This is just a band-aid.</span>
        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">40</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;box&quot;</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sidelength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of left and right borders combined.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer equal to the `pytermgui.helpers.real_length` of the concatenation of</span>
<span class="sd">                the left and right borders of this widget, both with their respective styles</span>
<span class="sd">                applied.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">chars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="n">left_border</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">right_border</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chars</span>
        <span class="k">return</span> <span class="n">real_length</span><span class="p">(</span><span class="n">style</span><span class="p">(</span><span class="n">left_border</span><span class="p">)</span> <span class="o">+</span> <span class="n">style</span><span class="p">(</span><span class="n">right_border</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selectables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all selectable widgets and their inner indices.</span>

<span class="sd">        This is used in order to have a constant reference to all selectable indices within this</span>
<span class="sd">        widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of tuples containing a widget and an integer each. For each widget that is</span>
<span class="sd">            withing this one, it is added to this list as many times as it has selectables. Each</span>
<span class="sd">            of the integers correspond to a selectable_index within the widget.</span>

<span class="sd">            For example, a Container with a Button, InputField and an inner Container containing</span>
<span class="sd">            3 selectables might return something like this:</span>

<span class="sd">            ```</span>
<span class="sd">            [</span>
<span class="sd">                (Button(...), 0),</span>
<span class="sd">                (InputField(...), 0),</span>
<span class="sd">                (Container(...), 0),</span>
<span class="sd">                (Container(...), 1),</span>
<span class="sd">                (Container(...), 2),</span>
<span class="sd">            ]</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">_selectables</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">inner</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                <span class="n">_selectables</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">inner</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">_selectables</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selectables_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of the selectables list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer equal to the length of `self.selectables`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the currently selected object</span>

<span class="sd">        Returns:</span>
<span class="sd">            The currently selected widget if selected_index is not None,</span>
<span class="sd">            otherwise None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: Add deeper selection</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns current box setting</span>

<span class="sd">        Returns:</span>
<span class="sd">            The currently set box instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box</span>

    <span class="nd">@box</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Applies a new box.</span>

<span class="sd">        Args:</span>
<span class="sd">            new: Either a `pytermgui.boxes.Box` instance or a string</span>
<span class="sd">                analogous to one of the default box names.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">from_module</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">boxes</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">from_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown box type </span><span class="si">{</span><span class="n">new</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="n">new</span> <span class="o">=</span> <span class="n">from_module</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_box</span> <span class="o">=</span> <span class="n">new</span>
        <span class="n">new</span><span class="o">.</span><span class="n">set_chars_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds a new widget, then returns self.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget instance, or data structure that can be turned</span>
<span class="sd">            into a widget by `Widget.from_data`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A reference to self.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds a new widget, then returns self.</span>

<span class="sd">        This method is analogous to `Container.__iadd__`.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget instance, or data structure that can be turned</span>
<span class="sd">            into a widget by `Widget.from_data`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A reference to self.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an iterator of self._widgets.</span>

<span class="sd">        Yields:</span>
<span class="sd">            The next widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">widget</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of the widgets list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer describing len(self._widgets).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sli</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">slice</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an item from self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            sli: Slice of the list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The slice in the list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">[</span><span class="n">sli</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets an item in self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to be set.</span>
<span class="sd">            value: The new widget at this index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Determines if self._widgets contains other widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget-like.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean describing whether `other` is in `self.widgets`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">)</span> <span class="ow">and</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">widget</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">run_get_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds other to this widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget-like object.</span>
<span class="sd">            run_get_lines: Boolean controlling whether the self.get_lines is ran.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The added widget. This is useful when data conversion took place in this</span>
<span class="sd">            function, e.g. a string was converted to a Label.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Widget</span><span class="p">):</span>
            <span class="n">to_widget</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">to_widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Could not convert </span><span class="si">{</span><span class="n">other</span><span class="si">}</span><span class="s2"> of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s2"> to a Widget!&quot;</span>
                <span class="p">)</span>

            <span class="n">other</span> <span class="o">=</span> <span class="n">to_widget</span>

        <span class="c1"># This is safe to do, as it would&#39;ve raised an exception above already</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Widget</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Container</span><span class="p">):</span>
            <span class="n">other</span><span class="o">.</span><span class="n">set_recursive_depth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">other</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="n">other</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
        <span class="n">other</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="n">run_get_lines</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">other</span>

    <span class="k">def</span> <span class="nf">_get_aligners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">borders</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an aligning method and position offset.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to align.</span>
<span class="sd">            borders: The left and right borders to put the widget within.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of a method that, when called with a line, will return that line</span>
<span class="sd">            centered using the passed in widget&#39;s parent_align and width, as well as</span>
<span class="sd">            the horizontal offset resulting from the widget being aligned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">borders</span>
        <span class="n">char</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">)(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_align_left</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the left&quot;&quot;&quot;</span>

            <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">def</span> <span class="nf">_align_center</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the center&quot;&quot;&quot;</span>

            <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">def</span> <span class="nf">_align_right</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the right&quot;&quot;&quot;</span>

            <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_align_center</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_align_right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>

        <span class="c1"># Default to left-aligned</span>
        <span class="k">return</span> <span class="n">_align_left</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Updates the width of widget or self.</span>

<span class="sd">        This method respects widget.size_policy.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to update/base updates on.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: Widget has SizePolicy.RELATIVE, but relative_width is None.</span>
<span class="sd">            WidthExceededError: Widget and self both have static widths, and widget&#39;s</span>
<span class="sd">                is larger than what is available.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">available</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidelength</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">FILL</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">available</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">RELATIVE</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">relative_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Widget &quot;</span><span class="si">{</span><span class="n">widget</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\&#39;</span><span class="s1">s relative width cannot be None.&#39;</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">relative_width</span> <span class="o">*</span> <span class="n">available</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">&gt;</span> <span class="n">available</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WidthExceededError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Widget </span><span class="si">{</span><span class="n">widget</span><span class="si">}</span><span class="s2">&#39;s static width of </span><span class="si">{</span><span class="n">widget</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot; exceeds its parent&#39;s available width </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="s2">&quot;&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidelength</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">available</span>

    <span class="k">def</span> <span class="nf">_apply_vertalign</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">diff</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">padder</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Insert padder line into lines diff times, depending on self.vertical_align.</span>

<span class="sd">        Args:</span>
<span class="sd">            lines: The list of lines to align.</span>
<span class="sd">            diff: The available height.</span>
<span class="sd">            padder: The line to use to pad.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the vertical offset as well as the padded list of lines.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: The given vertical alignment is not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">diff</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">TOP</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">top</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">bottom</span> <span class="o">=</span> <span class="n">top</span> <span class="o">+</span> <span class="n">extra</span>

            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">top</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">padder</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">bottom</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">top</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Vertical alignment </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span><span class="si">}</span><span class="s2"> is not implemented for </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">lazy_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds `other` without running get_lines.</span>

<span class="sd">        This is analogous to `self._add_widget(other, run_get_lines=False).</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The object to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">run_get_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all lines by spacing out inner widgets.</span>

<span class="sd">        This method reflects &amp; applies both width settings, as well as</span>
<span class="sd">        the `parent_align` field.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all lines that represent this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get_border</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Gets a top or bottom border.</span>

<span class="sd">            Args:</span>
<span class="sd">                left: Left corner character.</span>
<span class="sd">                char: Border character filling between left &amp; right.</span>
<span class="sd">                right: Right corner character.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The border line.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">offset</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">char</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">offset</span><span class="p">)</span> <span class="o">+</span> <span class="n">right</span>

        <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="n">borders</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)</span>
        <span class="n">corners</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)]</span>

        <span class="n">has_top_bottom</span> <span class="o">=</span> <span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="n">overflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span>
        <span class="c1"># if overflow == Overflow.SCROLL:</span>
        <span class="c1">#     self.width -= self._scrollbar.width</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_update_width</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">widget_lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">overflow</span> <span class="ow">is</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">HIDE</span><span class="p">:</span>
                        <span class="k">break</span>

                    <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">AUTO</span><span class="p">:</span>
                        <span class="n">overflow</span> <span class="o">=</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span>

                <span class="n">widget_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">align</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>

            <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="c1"># TODO: Figure out a visual scrollbar</span>
            <span class="c1">#     self.width += self._scrollbar.width</span>

            <span class="c1">#     length = len(borders[2])</span>
            <span class="c1">#     start = self._scrollbar.position</span>
            <span class="c1">#     height = self.height - sum(has_top_bottom)</span>

            <span class="c1">#     self._scrollbar.height = height</span>
            <span class="c1">#     scrollbar = self._scrollbar.get_lines()</span>
            <span class="c1">#</span>
            <span class="c1"># new_lines = []</span>
            <span class="c1"># for i, line in enumerate(lines[start : start + height]):</span>
            <span class="c1">#     offset = len(line) - length</span>
            <span class="c1">#     new_lines.append(line[:offset] + scrollbar[i] + line[offset:])</span>

            <span class="c1"># lines = new_lines</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>
            <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="n">height</span><span class="p">))</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">height</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">RESIZE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

        <span class="n">vertical_offset</span><span class="p">,</span> <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_vertalign</span><span class="p">(</span>
            <span class="n">lines</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">),</span> <span class="n">align</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">vertical_offset</span><span class="p">)</span>

            <span class="c1"># TODO: This is wasteful.</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets new list in place of self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            new: The new widget list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Serializes this Container, adding in serializations of all widgets.</span>

<span class="sd">        See `pytermgui.widgets.base.Widget.serialize` for more info.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The dictionary containing all serialized data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pops widget from self._widgets.</span>

<span class="sd">        Analogous to self._widgets.pop(index).</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to operate on.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The widget that was popped off the list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove widget from self._widgets</span>

<span class="sd">        Analogous to self._widgets.remove(other).</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_recursive_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set depth for this Container and all its children.</span>

<span class="sd">        All inner widgets will receive value+1 as their new depth.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The new depth to use as the base depth.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">set_recursive_depth</span><span class="p">(</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Selects inner subwidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to select.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IndexError: The index provided was beyond len(self.selectables).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Unselect all sub-elements</span>
        <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">other</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">widget</span><span class="p">,</span> <span class="n">inner_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">inner_index</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>

    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to given offset, returns the new scroll_offset.</span>

<span class="sd">        Args:</span>
<span class="sd">            offset: The amount to scroll by. Positive offsets scroll down,</span>
<span class="sd">                negative up.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
            <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">offset</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>

    <span class="k">def</span> <span class="nf">scroll_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to either top or bottom end of this object.</span>

<span class="sd">        Args:</span>
<span class="sd">            end: The offset to scroll to. 0 goes to the very top, -1 to the</span>
<span class="sd">                very bottom.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">end</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">end</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>

    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Centers this object to the given axis.</span>

<span class="sd">        Args:</span>
<span class="sd">            where: A CenteringPolicy describing the place to center to</span>
<span class="sd">            store: When set, this centering will be reapplied during every</span>
<span class="sd">                print, as well as when calling this method with no arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            This Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Refresh in case changes happened</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">where</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># See `enums.py` for explanation about this ignore.</span>
            <span class="n">where</span> <span class="o">=</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">centerx</span> <span class="o">=</span> <span class="n">centery</span> <span class="o">=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">ALL</span>
        <span class="n">centerx</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">HORIZONTAL</span>
        <span class="n">centery</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">VERTICAL</span>

        <span class="n">pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">centerx</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">centery</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">store</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span> <span class="o">=</span> <span class="n">where</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Applies a mouse event on all children.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The event to handle</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the event was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">:</span>
            <span class="c1"># Force RELEASE event to be sent</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span>
                    <span class="n">MouseEvent</span><span class="p">(</span><span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">scrolled_pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
        <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
        <span class="n">event</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">):</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
                <span class="c1"># This avoids too many branches from pylint.</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">LEFT_CLICK</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="n">widget</span>

                    <span class="k">if</span> <span class="n">handled</span> <span class="ow">and</span> <span class="n">selectables_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">handled</span>

                <span class="k">break</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_UP</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_DOWN</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Executes a binding on self, and then on self._widgets.</span>

<span class="sd">        If a widget.execute_binding call returns True this function will too. Note</span>
<span class="sd">        that on success the function returns immediately; no further widgets are</span>
<span class="sd">        checked.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: The binding key.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if any widget returned True, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-return-statements, too-many-branches</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Handles a keypress, returns its success.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key str.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the key was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Determine if a key is in the navigation sets&quot;&quot;&quot;</span>

            <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">scroll_actions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]},</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]},</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">in</span> <span class="n">widget</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="n">scroll_actions</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Only use navigation when there is more than one selectable</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="n">handled</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]:</span>
                <span class="c1"># No more selectables left, user wants to exit Container</span>
                <span class="c1"># upwards.</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]:</span>
                <span class="c1"># Stop selection at last element, return as unhandled</span>
                <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">new</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Wipes the characters occupied by the object&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prints this Container.</span>

<span class="sd">        If the screen size has changed since last `print` call, the object</span>
<span class="sd">        will be centered based on its `centered_axis`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_fullscreen</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns a string with identifiable information on this widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A str in the form of a class construction. This string is in a form that</span>
<span class="sd">            __could have been__ used to create this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Container(&quot;</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;, **attrs)&quot;</span>

        <span class="k">return</span> <span class="n">out</span>


<span class="k">class</span> <span class="nc">Splitter</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A widget that displays other widgets, stacked horizontally.&quot;&quot;&quot;</span>

    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="s2">&quot; | &quot;</span><span class="p">}</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span> <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">BACKGROUND</span><span class="p">}</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;previous&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_B</span><span class="p">},</span>
        <span class="s2">&quot;next&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_F</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="n">parent_align</span> <span class="o">=</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span>

    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">alignment</span><span class="p">:</span> <span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">target_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Align a line</span>

<span class="sd">        r/wordavalanches&quot;&quot;&quot;</span>

        <span class="n">available</span> <span class="o">=</span> <span class="n">target_width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">fill_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">)</span>

        <span class="n">char</span> <span class="o">=</span> <span class="n">fill_style</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">fill_style</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">alignment</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">available</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">padding</span><span class="p">,</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="p">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">*</span> <span class="n">char</span>

        <span class="k">if</span> <span class="n">alignment</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">available</span><span class="p">,</span> <span class="n">available</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">line</span>

        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">line</span> <span class="o">+</span> <span class="n">available</span> <span class="o">*</span> <span class="n">char</span>

    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Join all widgets horizontally.&quot;&quot;&quot;</span>

        <span class="c1"># An error will be raised if `separator` is not the correct type (str).</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
        <span class="n">separator_length</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>

        <span class="n">target_width</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">separator_length</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">vertical_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">total_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">inner</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="ow">is</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="n">target_width</span> <span class="o">+=</span> <span class="n">target_width</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">target_width</span> <span class="o">+</span> <span class="n">error</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">error</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">aligned</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="c1"># See `enums.py` for information about this ignore</span>
                <span class="n">padding</span><span class="p">,</span> <span class="n">aligned</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
                    <span class="n">cast</span><span class="p">(</span><span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span><span class="p">),</span> <span class="n">width</span><span class="p">,</span> <span class="n">line</span>
                <span class="p">)</span>
                <span class="n">inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aligned</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">total_offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Container&quot;</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">aligned</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">total_offset</span> <span class="o">+=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">inner</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">separator_length</span>

            <span class="n">vertical_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">horizontal</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="o">*</span><span class="n">vertical_lines</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">target_width</span><span class="p">):</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">reset</span><span class="p">()</span> <span class="o">+</span> <span class="n">separator</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontal</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return identifiable information&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Container&quot;</span><span class="p">,</span> <span class="s2">&quot;Splitter&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

        </details>

            </section>
                <section id="Container">
                                <div class="attr class">
        <a class="headerlink" href="#Container">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Container</span><wbr>(<span class="base"><a href="base.html#Widget">pytermgui.widgets.base.Widget</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Container</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A widget that displays other widgets, stacked vertically.&quot;&quot;&quot;</span>

    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;border&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;| &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot; |&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>
        <span class="s2">&quot;corner&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;border&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span>
        <span class="s2">&quot;corner&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span>
        <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">BACKGROUND</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;next&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">DOWN</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_N</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">},</span>
        <span class="s2">&quot;previous&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">UP</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_P</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">},</span>
        <span class="s2">&quot;scroll_down&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">SHIFT_DOWN</span><span class="p">,</span> <span class="s2">&quot;J&quot;</span><span class="p">},</span>
        <span class="s2">&quot;scroll_up&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">SHIFT_UP</span><span class="p">,</span> <span class="s2">&quot;K&quot;</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="n">serialized</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">serialized</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;centered_axis&quot;</span><span class="p">]</span>
    <span class="n">vertical_align</span> <span class="o">=</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">CENTER</span>
    <span class="n">allow_fullscreen</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">overflow</span> <span class="o">=</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>

    <span class="c1"># TODO: Add `WidgetConvertible`? type instead of Any</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">widgets</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize Container data&quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

        <span class="c1"># TODO: This is just a band-aid.</span>
        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">40</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;box&quot;</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sidelength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of left and right borders combined.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer equal to the `pytermgui.helpers.real_length` of the concatenation of</span>
<span class="sd">                the left and right borders of this widget, both with their respective styles</span>
<span class="sd">                applied.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">chars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="n">left_border</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">right_border</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chars</span>
        <span class="k">return</span> <span class="n">real_length</span><span class="p">(</span><span class="n">style</span><span class="p">(</span><span class="n">left_border</span><span class="p">)</span> <span class="o">+</span> <span class="n">style</span><span class="p">(</span><span class="n">right_border</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selectables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all selectable widgets and their inner indices.</span>

<span class="sd">        This is used in order to have a constant reference to all selectable indices within this</span>
<span class="sd">        widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of tuples containing a widget and an integer each. For each widget that is</span>
<span class="sd">            withing this one, it is added to this list as many times as it has selectables. Each</span>
<span class="sd">            of the integers correspond to a selectable_index within the widget.</span>

<span class="sd">            For example, a Container with a Button, InputField and an inner Container containing</span>
<span class="sd">            3 selectables might return something like this:</span>

<span class="sd">            ```</span>
<span class="sd">            [</span>
<span class="sd">                (Button(...), 0),</span>
<span class="sd">                (InputField(...), 0),</span>
<span class="sd">                (Container(...), 0),</span>
<span class="sd">                (Container(...), 1),</span>
<span class="sd">                (Container(...), 2),</span>
<span class="sd">            ]</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">_selectables</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">inner</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                <span class="n">_selectables</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">inner</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">_selectables</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selectables_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of the selectables list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer equal to the length of `self.selectables`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the currently selected object</span>

<span class="sd">        Returns:</span>
<span class="sd">            The currently selected widget if selected_index is not None,</span>
<span class="sd">            otherwise None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: Add deeper selection</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns current box setting</span>

<span class="sd">        Returns:</span>
<span class="sd">            The currently set box instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box</span>

    <span class="nd">@box</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Applies a new box.</span>

<span class="sd">        Args:</span>
<span class="sd">            new: Either a `pytermgui.boxes.Box` instance or a string</span>
<span class="sd">                analogous to one of the default box names.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">from_module</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">boxes</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">from_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown box type </span><span class="si">{</span><span class="n">new</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="n">new</span> <span class="o">=</span> <span class="n">from_module</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="n">boxes</span><span class="o">.</span><span class="n">Box</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_box</span> <span class="o">=</span> <span class="n">new</span>
        <span class="n">new</span><span class="o">.</span><span class="n">set_chars_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds a new widget, then returns self.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget instance, or data structure that can be turned</span>
<span class="sd">            into a widget by `Widget.from_data`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A reference to self.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds a new widget, then returns self.</span>

<span class="sd">        This method is analogous to `Container.__iadd__`.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget instance, or data structure that can be turned</span>
<span class="sd">            into a widget by `Widget.from_data`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A reference to self.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an iterator of self._widgets.</span>

<span class="sd">        Yields:</span>
<span class="sd">            The next widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">widget</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the length of the widgets list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer describing len(self._widgets).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sli</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">slice</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an item from self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            sli: Slice of the list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The slice in the list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">[</span><span class="n">sli</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets an item in self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to be set.</span>
<span class="sd">            value: The new widget at this index.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Determines if self._widgets contains other widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget-like.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean describing whether `other` is in `self.widgets`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">)</span> <span class="ow">and</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">widget</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">run_get_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds other to this widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: Any widget-like object.</span>
<span class="sd">            run_get_lines: Boolean controlling whether the self.get_lines is ran.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The added widget. This is useful when data conversion took place in this</span>
<span class="sd">            function, e.g. a string was converted to a Label.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Widget</span><span class="p">):</span>
            <span class="n">to_widget</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">to_widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Could not convert </span><span class="si">{</span><span class="n">other</span><span class="si">}</span><span class="s2"> of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s2"> to a Widget!&quot;</span>
                <span class="p">)</span>

            <span class="n">other</span> <span class="o">=</span> <span class="n">to_widget</span>

        <span class="c1"># This is safe to do, as it would&#39;ve raised an exception above already</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Widget</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Container</span><span class="p">):</span>
            <span class="n">other</span><span class="o">.</span><span class="n">set_recursive_depth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">other</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="n">other</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
        <span class="n">other</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="n">run_get_lines</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">other</span>

    <span class="k">def</span> <span class="nf">_get_aligners</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">borders</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets an aligning method and position offset.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to align.</span>
<span class="sd">            borders: The left and right borders to put the widget within.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of a method that, when called with a line, will return that line</span>
<span class="sd">            centered using the passed in widget&#39;s parent_align and width, as well as</span>
<span class="sd">            the horizontal offset resulting from the widget being aligned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">borders</span>
        <span class="n">char</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">)(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_align_left</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the left&quot;&quot;&quot;</span>

            <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">def</span> <span class="nf">_align_center</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the center&quot;&quot;&quot;</span>

            <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">def</span> <span class="nf">_align_right</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Align line to the right&quot;&quot;&quot;</span>

            <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">text</span> <span class="o">+</span> <span class="n">right</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_align_center</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_align_right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>

        <span class="c1"># Default to left-aligned</span>
        <span class="k">return</span> <span class="n">_align_left</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Updates the width of widget or self.</span>

<span class="sd">        This method respects widget.size_policy.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to update/base updates on.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: Widget has SizePolicy.RELATIVE, but relative_width is None.</span>
<span class="sd">            WidthExceededError: Widget and self both have static widths, and widget&#39;s</span>
<span class="sd">                is larger than what is available.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">available</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidelength</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">FILL</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">available</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">RELATIVE</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">relative_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Widget &quot;</span><span class="si">{</span><span class="n">widget</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\&#39;</span><span class="s1">s relative width cannot be None.&#39;</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">relative_width</span> <span class="o">*</span> <span class="n">available</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">&gt;</span> <span class="n">available</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">WidthExceededError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Widget </span><span class="si">{</span><span class="n">widget</span><span class="si">}</span><span class="s2">&#39;s static width of </span><span class="si">{</span><span class="n">widget</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot; exceeds its parent&#39;s available width </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="s2">&quot;&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">==</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidelength</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">available</span>

    <span class="k">def</span> <span class="nf">_apply_vertalign</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">diff</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">padder</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Insert padder line into lines diff times, depending on self.vertical_align.</span>

<span class="sd">        Args:</span>
<span class="sd">            lines: The list of lines to align.</span>
<span class="sd">            diff: The available height.</span>
<span class="sd">            padder: The line to use to pad.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the vertical offset as well as the padded list of lines.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: The given vertical alignment is not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">diff</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">TOP</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span> <span class="o">==</span> <span class="n">VerticalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">top</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">bottom</span> <span class="o">=</span> <span class="n">top</span> <span class="o">+</span> <span class="n">extra</span>

            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">top</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">padder</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">bottom</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">padder</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">top</span><span class="p">,</span> <span class="n">lines</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Vertical alignment </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">vertical_align</span><span class="si">}</span><span class="s2"> is not implemented for </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">lazy_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds `other` without running get_lines.</span>

<span class="sd">        This is analogous to `self._add_widget(other, run_get_lines=False).</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The object to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">run_get_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all lines by spacing out inner widgets.</span>

<span class="sd">        This method reflects &amp; applies both width settings, as well as</span>
<span class="sd">        the `parent_align` field.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all lines that represent this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get_border</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Gets a top or bottom border.</span>

<span class="sd">            Args:</span>
<span class="sd">                left: Left corner character.</span>
<span class="sd">                char: Border character filling between left &amp; right.</span>
<span class="sd">                right: Right corner character.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The border line.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">offset</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">char</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">offset</span><span class="p">)</span> <span class="o">+</span> <span class="n">right</span>

        <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="n">borders</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)</span>
        <span class="n">corners</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)]</span>

        <span class="n">has_top_bottom</span> <span class="o">=</span> <span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="n">overflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span>
        <span class="c1"># if overflow == Overflow.SCROLL:</span>
        <span class="c1">#     self.width -= self._scrollbar.width</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_update_width</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">widget_lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">overflow</span> <span class="ow">is</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">HIDE</span><span class="p">:</span>
                        <span class="k">break</span>

                    <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">AUTO</span><span class="p">:</span>
                        <span class="n">overflow</span> <span class="o">=</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span>

                <span class="n">widget_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">align</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>

            <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="c1"># TODO: Figure out a visual scrollbar</span>
            <span class="c1">#     self.width += self._scrollbar.width</span>

            <span class="c1">#     length = len(borders[2])</span>
            <span class="c1">#     start = self._scrollbar.position</span>
            <span class="c1">#     height = self.height - sum(has_top_bottom)</span>

            <span class="c1">#     self._scrollbar.height = height</span>
            <span class="c1">#     scrollbar = self._scrollbar.get_lines()</span>
            <span class="c1">#</span>
            <span class="c1"># new_lines = []</span>
            <span class="c1"># for i, line in enumerate(lines[start : start + height]):</span>
            <span class="c1">#     offset = len(line) - length</span>
            <span class="c1">#     new_lines.append(line[:offset] + scrollbar[i] + line[offset:])</span>

            <span class="c1"># lines = new_lines</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>
            <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="n">height</span><span class="p">))</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">height</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">RESIZE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

        <span class="n">vertical_offset</span><span class="p">,</span> <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_vertalign</span><span class="p">(</span>
            <span class="n">lines</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">),</span> <span class="n">align</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">vertical_offset</span><span class="p">)</span>

            <span class="c1"># TODO: This is wasteful.</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets new list in place of self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            new: The new widget list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Serializes this Container, adding in serializations of all widgets.</span>

<span class="sd">        See `pytermgui.widgets.base.Widget.serialize` for more info.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The dictionary containing all serialized data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pops widget from self._widgets.</span>

<span class="sd">        Analogous to self._widgets.pop(index).</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to operate on.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The widget that was popped off the list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove widget from self._widgets</span>

<span class="sd">        Analogous to self._widgets.remove(other).</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_recursive_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set depth for this Container and all its children.</span>

<span class="sd">        All inner widgets will receive value+1 as their new depth.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The new depth to use as the base depth.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">set_recursive_depth</span><span class="p">(</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Selects inner subwidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to select.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IndexError: The index provided was beyond len(self.selectables).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Unselect all sub-elements</span>
        <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">other</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">widget</span><span class="p">,</span> <span class="n">inner_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">inner_index</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>

    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to given offset, returns the new scroll_offset.</span>

<span class="sd">        Args:</span>
<span class="sd">            offset: The amount to scroll by. Positive offsets scroll down,</span>
<span class="sd">                negative up.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
            <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">offset</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>

    <span class="k">def</span> <span class="nf">scroll_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to either top or bottom end of this object.</span>

<span class="sd">        Args:</span>
<span class="sd">            end: The offset to scroll to. 0 goes to the very top, -1 to the</span>
<span class="sd">                very bottom.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">end</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">end</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>

    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Centers this object to the given axis.</span>

<span class="sd">        Args:</span>
<span class="sd">            where: A CenteringPolicy describing the place to center to</span>
<span class="sd">            store: When set, this centering will be reapplied during every</span>
<span class="sd">                print, as well as when calling this method with no arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            This Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Refresh in case changes happened</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">where</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># See `enums.py` for explanation about this ignore.</span>
            <span class="n">where</span> <span class="o">=</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">centerx</span> <span class="o">=</span> <span class="n">centery</span> <span class="o">=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">ALL</span>
        <span class="n">centerx</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">HORIZONTAL</span>
        <span class="n">centery</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">VERTICAL</span>

        <span class="n">pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">centerx</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">centery</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">store</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span> <span class="o">=</span> <span class="n">where</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Applies a mouse event on all children.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The event to handle</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the event was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">:</span>
            <span class="c1"># Force RELEASE event to be sent</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span>
                    <span class="n">MouseEvent</span><span class="p">(</span><span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">scrolled_pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
        <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
        <span class="n">event</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">):</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
                <span class="c1"># This avoids too many branches from pylint.</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">LEFT_CLICK</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="n">widget</span>

                    <span class="k">if</span> <span class="n">handled</span> <span class="ow">and</span> <span class="n">selectables_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">handled</span>

                <span class="k">break</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_UP</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_DOWN</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Executes a binding on self, and then on self._widgets.</span>

<span class="sd">        If a widget.execute_binding call returns True this function will too. Note</span>
<span class="sd">        that on success the function returns immediately; no further widgets are</span>
<span class="sd">        checked.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: The binding key.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if any widget returned True, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-return-statements, too-many-branches</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Handles a keypress, returns its success.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key str.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the key was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Determine if a key is in the navigation sets&quot;&quot;&quot;</span>

            <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">scroll_actions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]},</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]},</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">in</span> <span class="n">widget</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="n">scroll_actions</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Only use navigation when there is more than one selectable</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="n">handled</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]:</span>
                <span class="c1"># No more selectables left, user wants to exit Container</span>
                <span class="c1"># upwards.</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]:</span>
                <span class="c1"># Stop selection at last element, return as unhandled</span>
                <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">new</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Wipes the characters occupied by the object&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prints this Container.</span>

<span class="sd">        If the screen size has changed since last `print` call, the object</span>
<span class="sd">        will be centered based on its `centered_axis`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_fullscreen</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns a string with identifiable information on this widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A str in the form of a class construction. This string is in a form that</span>
<span class="sd">            __could have been__ used to create this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Container(&quot;</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;, **attrs)&quot;</span>

        <span class="k">return</span> <span class="n">out</span>
</pre></div>

        </details>

            <div class="docstring"><p>A widget that displays other widgets, stacked vertically.</p>
</div>


                            <div id="Container.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Container</span><span class="signature">(*widgets: Any, **attrs: Any)</span>
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">widgets</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize Container data&quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

        <span class="c1"># TODO: This is just a band-aid.</span>
        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">40</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;box&quot;</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Initialize Container data</p>
</div>


                            </div>
                            <div id="Container.chars" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.chars">#&nbsp;&nbsp</a>

        <span class="name">chars</span><span class="annotation">: dict[str, typing.Union[typing.List[str], str]]</span><span class="default_value"> = {&#39;border&#39;: [&#39;| &#39;, &#39;-&#39;, &#39; |&#39;, &#39;-&#39;], &#39;corner&#39;: [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;]}</span>
    </div>

    
            <div class="docstring"><p>Default characters for this class</p>
</div>


                            </div>
                            <div id="Container.styles" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.styles">#&nbsp;&nbsp</a>

        <span class="name">styles</span><span class="annotation">: dict[str, typing.Callable[[int, str], str]]</span><span class="default_value"> = {&#39;border&#39;: &lt;function &lt;lambda&gt;&gt;, &#39;corner&#39;: &lt;function &lt;lambda&gt;&gt;, &#39;fill&#39;: &lt;function &lt;lambda&gt;&gt;}</span>
    </div>

    
            <div class="docstring"><p>Default styles for this class</p>
</div>


                            </div>
                            <div id="Container.keys" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.keys">#&nbsp;&nbsp</a>

        <span class="name">keys</span><span class="annotation">: dict[str, set[str]]</span><span class="default_value"> = {&#39;next&#39;: {&#39;j&#39;, &#39;\x1b[B&#39;, &#39;\x0e&#39;}, &#39;previous&#39;: {&#39;\x10&#39;, &#39;k&#39;, &#39;\x1b[A&#39;}, &#39;scroll_down&#39;: {&#39;\x1b[1;2B&#39;, &#39;J&#39;}, &#39;scroll_up&#39;: {&#39;K&#39;, &#39;\x1b[1;2A&#39;}}</span>
    </div>

    
            <div class="docstring"><p>Groups of keys that are used in <code><a href="#Container.handle_key">handle_key</a></code></p>
</div>


                            </div>
                            <div id="Container.serialized" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.serialized">#&nbsp;&nbsp</a>

        <span class="name">serialized</span><span class="annotation">: list[str]</span><span class="default_value"> = [&#39;id&#39;, &#39;pos&#39;, &#39;depth&#39;, &#39;width&#39;, &#39;height&#39;, &#39;selected_index&#39;, &#39;selectables_length&#39;, &#39;centered_axis&#39;]</span>
    </div>

    
            <div class="docstring"><p>Fields of widget that shall be serialized by <code><a href="../serializer.html#Serializer">pytermgui.serializer.Serializer</a></code></p>
</div>


                            </div>
                            <div id="Container.vertical_align" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.vertical_align">#&nbsp;&nbsp</a>

        <span class="name">vertical_align</span><span class="default_value"> = &lt;VerticalAlignment.CENTER: 1&gt;</span>
    </div>

    
    

                            </div>
                            <div id="Container.allow_fullscreen" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.allow_fullscreen">#&nbsp;&nbsp</a>

        <span class="name">allow_fullscreen</span><span class="default_value"> = True</span>
    </div>

    
    

                            </div>
                            <div id="Container.overflow" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.overflow">#&nbsp;&nbsp</a>

        <span class="name">overflow</span><span class="default_value"> = &lt;Overflow.RESIZE: 2&gt;</span>
    </div>

    
    

                            </div>
                            <div id="Container.sidelength" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.sidelength">#&nbsp;&nbsp</a>

        <span class="name">sidelength</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Gets the length of left and right borders combined.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An integer equal to the <code><a href="../helpers.html#real_length">pytermgui.helpers.real_length</a></code> of the concatenation of
      the left and right borders of this widget, both with their respective styles
      applied.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.selectables" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.selectables">#&nbsp;&nbsp</a>

        <span class="name">selectables</span><span class="annotation">: list[tuple[<a href="base.html#Widget">pytermgui.widgets.base.Widget</a>, int]]</span>
    </div>

    
            <div class="docstring"><p>Gets all selectable widgets and their inner indices.</p>

<p>This is used in order to have a constant reference to all selectable indices within this
widget.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A list of tuples containing a widget and an integer each. For each widget that is
  withing this one, it is added to this list as many times as it has selectables. Each
  of the integers correspond to a selectable_index within the widget.</p>
  
  <p>For example, a Container with a Button, InputField and an inner Container containing
  3 selectables might return something like this:</p>

<pre><code>[
    (Button(...), 0),
    (InputField(...), 0),
    (Container(...), 0),
    (Container(...), 1),
    (Container(...), 2),
]
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="Container.selectables_length" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.selectables_length">#&nbsp;&nbsp</a>

        <span class="name">selectables_length</span><span class="annotation">: int</span>
    </div>

    
            <div class="docstring"><p>Gets the length of the selectables list.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An integer equal to the length of <code>self.selectables</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.selected" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.selected">#&nbsp;&nbsp</a>

        <span class="name">selected</span><span class="annotation">: <a href="base.html#Widget">pytermgui.widgets.base.Widget</a> | None</span>
    </div>

    
            <div class="docstring"><p>Returns the currently selected object</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The currently selected widget if selected_index is not None,
  otherwise None.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.box" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Container.box">#&nbsp;&nbsp</a>

        <span class="name">box</span><span class="annotation">: <a href="boxes.html#Box">pytermgui.widgets.boxes.Box</a></span>
    </div>

    
            <div class="docstring"><p>Returns current box setting</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The currently set box instance.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.lazy_add" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.lazy_add">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">lazy_add</span><span class="signature">(self, other: object) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">lazy_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Adds `other` without running get_lines.</span>

<span class="sd">        This is analogous to `self._add_widget(other, run_get_lines=False).</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The object to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">run_get_lines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Adds <code>other</code> without running get_lines.</p>

<p>This is analogous to `self._add_widget(other, run_get_lines=False).</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>other:</strong>  The object to add.</li>
</ul>
</div>


                            </div>
                            <div id="Container.get_lines" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.get_lines">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_lines</span><span class="signature">(self) -&gt; list[str]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all lines by spacing out inner widgets.</span>

<span class="sd">        This method reflects &amp; applies both width settings, as well as</span>
<span class="sd">        the `parent_align` field.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all lines that represent this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get_border</span><span class="p">(</span><span class="n">left</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Gets a top or bottom border.</span>

<span class="sd">            Args:</span>
<span class="sd">                left: Left corner character.</span>
<span class="sd">                char: Border character filling between left &amp; right.</span>
<span class="sd">                right: Right corner character.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The border line.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">offset</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">left</span> <span class="o">+</span> <span class="n">char</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">offset</span><span class="p">)</span> <span class="o">+</span> <span class="n">right</span>

        <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)</span>
        <span class="n">borders</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;border&quot;</span><span class="p">)]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)</span>
        <span class="n">corners</span> <span class="o">=</span> <span class="p">[</span><span class="n">style</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;corner&quot;</span><span class="p">)]</span>

        <span class="n">has_top_bottom</span> <span class="o">=</span> <span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">real_length</span><span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="n">overflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span>
        <span class="c1"># if overflow == Overflow.SCROLL:</span>
        <span class="c1">#     self.width -= self._scrollbar.width</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">align</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aligners</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">borders</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_update_width</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">widget_lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">overflow</span> <span class="ow">is</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">HIDE</span><span class="p">:</span>
                        <span class="k">break</span>

                    <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">AUTO</span><span class="p">:</span>
                        <span class="n">overflow</span> <span class="o">=</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span>

                <span class="n">widget_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">align</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>

            <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">widget_lines</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="c1"># TODO: Figure out a visual scrollbar</span>
            <span class="c1">#     self.width += self._scrollbar.width</span>

            <span class="c1">#     length = len(borders[2])</span>
            <span class="c1">#     start = self._scrollbar.position</span>
            <span class="c1">#     height = self.height - sum(has_top_bottom)</span>

            <span class="c1">#     self._scrollbar.height = height</span>
            <span class="c1">#     scrollbar = self._scrollbar.get_lines()</span>
            <span class="c1">#</span>
            <span class="c1"># new_lines = []</span>
            <span class="c1"># for i, line in enumerate(lines[start : start + height]):</span>
            <span class="c1">#     offset = len(line) - length</span>
            <span class="c1">#     new_lines.append(line[:offset] + scrollbar[i] + line[offset:])</span>

            <span class="c1"># lines = new_lines</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>
            <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="n">height</span><span class="p">))</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">height</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">RESIZE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">)</span>

        <span class="n">vertical_offset</span><span class="p">,</span> <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_vertalign</span><span class="p">(</span>
            <span class="n">lines</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">has_top_bottom</span><span class="p">),</span> <span class="n">align</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">widget</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">vertical_offset</span><span class="p">)</span>

            <span class="c1"># TODO: This is wasteful.</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="k">if</span> <span class="n">has_top_bottom</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_get_border</span><span class="p">(</span><span class="n">corners</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">borders</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">corners</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span>
</pre></div>

        </details>

            <div class="docstring"><p>Gets all lines by spacing out inner widgets.</p>

<p>This method reflects &amp; applies both width settings, as well as
the <code><a href="#Container.parent_align">parent_align</a></code> field.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A list of all lines that represent this Container.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.set_widgets" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.set_widgets">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_widgets</span><span class="signature">(self, new: list[<a href="base.html#Widget">pytermgui.widgets.base.Widget</a>]) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets new list in place of self._widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            new: The new widget list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">new</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_widget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Sets new list in place of self._widgets.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>new:</strong>  The new widget list.</li>
</ul>
</div>


                            </div>
                            <div id="Container.serialize" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.serialize">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">serialize</span><span class="signature">(self) -&gt; dict[str, typing.Any]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Serializes this Container, adding in serializations of all widgets.</span>

<span class="sd">        See `pytermgui.widgets.base.Widget.serialize` for more info.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The dictionary containing all serialized data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span><span class="p">[</span><span class="s2">&quot;_widgets&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">out</span>
</pre></div>

        </details>

            <div class="docstring"><p>Serializes this Container, adding in serializations of all widgets.</p>

<p>See <code><a href="base.html#Widget.serialize">pytermgui.widgets.base.Widget.serialize</a></code> for more info.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The dictionary containing all serialized data.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.pop" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.pop">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">pop</span><span class="signature">(self, index: int = -1) -&gt; <a href="base.html#Widget">pytermgui.widgets.base.Widget</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pops widget from self._widgets.</span>

<span class="sd">        Analogous to self._widgets.pop(index).</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to operate on.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The widget that was popped off the list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Pops widget from self._widgets.</p>

<p>Analogous to self._widgets.pop(index).</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>index:</strong>  The index to operate on.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The widget that was popped off the list.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.remove" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.remove">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">remove</span><span class="signature">(self, other: <a href="base.html#Widget">pytermgui.widgets.base.Widget</a>) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove widget from self._widgets</span>

<span class="sd">        Analogous to self._widgets.remove(other).</span>

<span class="sd">        Args:</span>
<span class="sd">            widget: The widget to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Remove widget from self._widgets</p>

<p>Analogous to self._widgets.remove(other).</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>widget:</strong>  The widget to remove.</li>
</ul>
</div>


                            </div>
                            <div id="Container.set_recursive_depth" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.set_recursive_depth">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_recursive_depth</span><span class="signature">(self, value: int) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_recursive_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set depth for this Container and all its children.</span>

<span class="sd">        All inner widgets will receive value+1 as their new depth.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The new depth to use as the base depth.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">set_recursive_depth</span><span class="p">(</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set depth for this Container and all its children.</p>

<p>All inner widgets will receive value+1 as their new depth.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>value:</strong>  The new depth to use as the base depth.</li>
</ul>
</div>


                            </div>
                            <div id="Container.select" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.select">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">select</span><span class="signature">(self, index: int | None = None) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Selects inner subwidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            index: The index to select.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IndexError: The index provided was beyond len(self.selectables).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Unselect all sub-elements</span>
        <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">other</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">widget</span><span class="p">,</span> <span class="n">inner_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">inner_index</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>
</pre></div>

        </details>

            <div class="docstring"><p>Selects inner subwidget.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>index:</strong>  The index to select.</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>IndexError:</strong>  The index provided was beyond len(self.selectables).</li>
</ul>
</div>


                            </div>
                            <div id="Container.scroll" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.scroll">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">scroll</span><span class="signature">(self, offset: int) -&gt; int</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to given offset, returns the new scroll_offset.</span>

<span class="sd">        Args:</span>
<span class="sd">            offset: The amount to scroll by. Positive offsets scroll down,</span>
<span class="sd">                negative up.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
            <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">offset</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</pre></div>

        </details>

            <div class="docstring"><p>Scrolls to given offset, returns the new scroll_offset.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>offset:</strong>  The amount to scroll by. Positive offsets scroll down,
negative up.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The new scroll offset.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.scroll_end" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.scroll_end">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">scroll_end</span><span class="signature">(self, end: int) -&gt; int</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">scroll_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Scrolls to either top or bottom end of this object.</span>

<span class="sd">        Args:</span>
<span class="sd">            end: The offset to scroll to. 0 goes to the very top, -1 to the</span>
<span class="sd">                very bottom.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new scroll offset.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">end</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">end</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</pre></div>

        </details>

            <div class="docstring"><p>Scrolls to either top or bottom end of this object.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>end:</strong>  The offset to scroll to. 0 goes to the very top, -1 to the
very bottom.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The new scroll offset.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.center" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.center">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">center</span><span class="signature">(
    self,
    where: <a href="../enums.html#CenteringPolicy">pytermgui.enums.CenteringPolicy</a> | None = None,
    store: bool = True
) -&gt; <a href="#Container">pytermgui.widgets.layouts.Container</a></span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">center</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span> <span class="n">CenteringPolicy</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Centers this object to the given axis.</span>

<span class="sd">        Args:</span>
<span class="sd">            where: A CenteringPolicy describing the place to center to</span>
<span class="sd">            store: When set, this centering will be reapplied during every</span>
<span class="sd">                print, as well as when calling this method with no arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            This Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Refresh in case changes happened</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">where</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># See `enums.py` for explanation about this ignore.</span>
            <span class="n">where</span> <span class="o">=</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="n">centerx</span> <span class="o">=</span> <span class="n">centery</span> <span class="o">=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">ALL</span>
        <span class="n">centerx</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">HORIZONTAL</span>
        <span class="n">centery</span> <span class="o">|=</span> <span class="n">where</span> <span class="ow">is</span> <span class="n">CenteringPolicy</span><span class="o">.</span><span class="n">VERTICAL</span>

        <span class="n">pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">centerx</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">centery</span><span class="p">:</span>
            <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">terminal</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">store</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span> <span class="o">=</span> <span class="n">where</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>Centers this object to the given axis.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>where:</strong>  A CenteringPolicy describing the place to center to</li>
<li><strong>store:</strong>  When set, this centering will be reapplied during every
print, as well as when calling this method with no arguments.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>This Container.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.handle_mouse" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.handle_mouse">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">handle_mouse</span><span class="signature">(self, event: <a href="../ansi_interface.html#MouseEvent">pytermgui.ansi_interface.MouseEvent</a>) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Applies a mouse event on all children.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The event to handle</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the event was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">:</span>
            <span class="c1"># Force RELEASE event to be sent</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span>
                    <span class="n">MouseEvent</span><span class="p">(</span><span class="n">MouseAction</span><span class="o">.</span><span class="n">RELEASE</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">scrolled_pos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
        <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
        <span class="n">event</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scrolled_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">):</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">handle_mouse</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
                <span class="c1"># This avoids too many branches from pylint.</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">LEFT_CLICK</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_drag_target</span> <span class="o">=</span> <span class="n">widget</span>

                    <span class="k">if</span> <span class="n">handled</span> <span class="ow">and</span> <span class="n">selectables_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">handled</span>

                <span class="k">break</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overflow</span> <span class="o">==</span> <span class="n">Overflow</span><span class="o">.</span><span class="n">SCROLL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_UP</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">action</span> <span class="ow">is</span> <span class="n">MouseAction</span><span class="o">.</span><span class="n">SCROLL_DOWN</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Applies a mouse event on all children.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>event:</strong>  The event to handle</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A boolean showing whether the event was handled.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.execute_binding" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.execute_binding">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_binding</span><span class="signature">(self, key: str) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Executes a binding on self, and then on self._widgets.</span>

<span class="sd">        If a widget.execute_binding call returns True this function will too. Note</span>
<span class="sd">        that on success the function returns immediately; no further widgets are</span>
<span class="sd">        checked.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: The binding key.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if any widget returned True, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">selectables_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">or</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selectables_index</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
                <span class="n">selectables_index</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectables_length</span>

        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Executes a binding on self, and then on self._widgets.</p>

<p>If a widget.execute_binding call returns True this function will too. Note
that on success the function returns immediately; no further widgets are
checked.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>key:</strong>  The binding key.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>True if any widget returned True, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.handle_key" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.handle_key">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">handle_key</span><span class="signature">(self, key: str) -&gt; bool</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-return-statements, too-many-branches</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Handles a keypress, returns its success.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: A key str.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A boolean showing whether the key was handled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Determine if a key is in the navigation sets&quot;&quot;&quot;</span>

            <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">scroll_actions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]},</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]},</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_down&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;scroll_up&quot;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">Container</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">in</span> <span class="n">widget</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="n">scroll_actions</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Only use navigation when there is more than one selectable</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">_is_nav</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="n">handled</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;previous&quot;</span><span class="p">]:</span>
                <span class="c1"># No more selectables left, user wants to exit Container</span>
                <span class="c1"># upwards.</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">]:</span>
                <span class="c1"># Stop selection at last element, return as unhandled</span>
                <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">new</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectables</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
                <span class="n">handled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">handled</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">handle_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">execute_binding</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Handles a keypress, returns its success.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>key:</strong>  A key str.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A boolean showing whether the key was handled.</p>
</blockquote>
</div>


                            </div>
                            <div id="Container.wipe" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.wipe">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wipe</span><span class="signature">(self) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Wipes the characters occupied by the object&quot;&quot;&quot;</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Wipes the characters occupied by the object</p>
</div>


                            </div>
                            <div id="Container.print" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.print">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">print</span><span class="signature">(self) -&gt; None</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prints this Container.</span>

<span class="sd">        If the screen size has changed since last `print` call, the object</span>
<span class="sd">        will be centered based on its `centered_axis`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span><span class="p">:</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centered_axis</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_screen</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">size</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_fullscreen</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>

        <span class="k">with</span> <span class="n">cursor_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span> <span class="k">as</span> <span class="n">print_here</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">print_here</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_has_printed</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

        </details>

            <div class="docstring"><p>Prints this Container.</p>

<p>If the screen size has changed since last <code><a href="#Container.print">print</a></code> call, the object
will be centered based on its <code>centered_axis</code>.</p>
</div>


                            </div>
                            <div id="Container.debug" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Container.debug">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">debug</span><span class="signature">(self) -&gt; str</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns a string with identifiable information on this widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A str in the form of a class construction. This string is in a form that</span>
<span class="sd">            __could have been__ used to create this Container.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Container(&quot;</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">widget</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>

        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;, **attrs)&quot;</span>

        <span class="k">return</span> <span class="n">out</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns a string with identifiable information on this widget.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A str in the form of a class construction. This string is in a form that
  __could have been__ used to create this Container.</p>
</blockquote>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="base.html#Widget">pytermgui.widgets.base.Widget</a></dt>
                                <dd id="Container.set_style" class="function"><a href="base.html#Widget.set_style">set_style</a></dd>
                <dd id="Container.set_char" class="function"><a href="base.html#Widget.set_char">set_char</a></dd>
                <dd id="Container.is_bindable" class="variable"><a href="base.html#Widget.is_bindable">is_bindable</a></dd>
                <dd id="Container.size_policy" class="variable"><a href="base.html#Widget.size_policy">size_policy</a></dd>
                <dd id="Container.parent_align" class="variable"><a href="base.html#Widget.parent_align">parent_align</a></dd>
                <dd id="Container.from_data" class="function"><a href="base.html#Widget.from_data">from_data</a></dd>
                <dd id="Container.bindings" class="variable"><a href="base.html#Widget.bindings">bindings</a></dd>
                <dd id="Container.id" class="variable"><a href="base.html#Widget.id">id</a></dd>
                <dd id="Container.is_selectable" class="variable"><a href="base.html#Widget.is_selectable">is_selectable</a></dd>
                <dd id="Container.static_width" class="variable"><a href="base.html#Widget.static_width">static_width</a></dd>
                <dd id="Container.relative_width" class="variable"><a href="base.html#Widget.relative_width">relative_width</a></dd>
                <dd id="Container.contains" class="function"><a href="base.html#Widget.contains">contains</a></dd>
                <dd id="Container.copy" class="function"><a href="base.html#Widget.copy">copy</a></dd>
                <dd id="Container.bind" class="function"><a href="base.html#Widget.bind">bind</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="Splitter">
                                <div class="attr class">
        <a class="headerlink" href="#Splitter">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Splitter</span><wbr>(<span class="base"><a href="#Container">Container</a></span>):
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Splitter</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A widget that displays other widgets, stacked horizontally.&quot;&quot;&quot;</span>

    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="s2">&quot; | &quot;</span><span class="p">}</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">MARKUP</span><span class="p">,</span> <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">BACKGROUND</span><span class="p">}</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;previous&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_B</span><span class="p">},</span>
        <span class="s2">&quot;next&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="n">keys</span><span class="o">.</span><span class="n">CTRL_F</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="n">parent_align</span> <span class="o">=</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span>

    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">alignment</span><span class="p">:</span> <span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">target_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Align a line</span>

<span class="sd">        r/wordavalanches&quot;&quot;&quot;</span>

        <span class="n">available</span> <span class="o">=</span> <span class="n">target_width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">fill_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">)</span>

        <span class="n">char</span> <span class="o">=</span> <span class="n">fill_style</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">fill_style</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">alignment</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span>
            <span class="n">padding</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">available</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">padding</span><span class="p">,</span> <span class="n">padding</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="p">(</span><span class="n">padding</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">*</span> <span class="n">char</span>

        <span class="k">if</span> <span class="n">alignment</span> <span class="o">==</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">available</span><span class="p">,</span> <span class="n">available</span> <span class="o">*</span> <span class="n">char</span> <span class="o">+</span> <span class="n">line</span>

        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="n">line</span> <span class="o">+</span> <span class="n">available</span> <span class="o">*</span> <span class="n">char</span>

    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Join all widgets horizontally.&quot;&quot;&quot;</span>

        <span class="c1"># An error will be raised if `separator` is not the correct type (str).</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
        <span class="n">separator_length</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>

        <span class="n">target_width</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">separator_length</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">vertical_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">total_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">inner</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="ow">is</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="n">target_width</span> <span class="o">+=</span> <span class="n">target_width</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">target_width</span> <span class="o">+</span> <span class="n">error</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">error</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">aligned</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="c1"># See `enums.py` for information about this ignore</span>
                <span class="n">padding</span><span class="p">,</span> <span class="n">aligned</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
                    <span class="n">cast</span><span class="p">(</span><span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span><span class="p">),</span> <span class="n">width</span><span class="p">,</span> <span class="n">line</span>
                <span class="p">)</span>
                <span class="n">inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aligned</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">total_offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Container&quot;</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">aligned</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">total_offset</span> <span class="o">+=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">inner</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">separator_length</span>

            <span class="n">vertical_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">horizontal</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="o">*</span><span class="n">vertical_lines</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">target_width</span><span class="p">):</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">reset</span><span class="p">()</span> <span class="o">+</span> <span class="n">separator</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontal</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return identifiable information&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Container&quot;</span><span class="p">,</span> <span class="s2">&quot;Splitter&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A widget that displays other widgets, stacked horizontally.</p>
</div>


                            <div id="Splitter.chars" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Splitter.chars">#&nbsp;&nbsp</a>

        <span class="name">chars</span><span class="annotation">: dict[str, list[str] | str]</span><span class="default_value"> = {&#39;separator&#39;: &#39; | &#39;}</span>
    </div>

    
            <div class="docstring"><p>Default characters for this class</p>
</div>


                            </div>
                            <div id="Splitter.styles" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Splitter.styles">#&nbsp;&nbsp</a>

        <span class="name">styles</span><span class="annotation">: dict[str, typing.Callable[[int, str], str]]</span><span class="default_value"> = {&#39;separator&#39;: &lt;function &lt;lambda&gt;&gt;, &#39;fill&#39;: &lt;function &lt;lambda&gt;&gt;}</span>
    </div>

    
            <div class="docstring"><p>Default styles for this class</p>
</div>


                            </div>
                            <div id="Splitter.keys" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Splitter.keys">#&nbsp;&nbsp</a>

        <span class="name">keys</span><span class="annotation">: dict[str, set[str]]</span><span class="default_value"> = {&#39;previous&#39;: {&#39;\x1b[D&#39;, &#39;\x02&#39;, &#39;h&#39;}, &#39;next&#39;: {&#39;\x1b[C&#39;, &#39;l&#39;, &#39;\x06&#39;}}</span>
    </div>

    
            <div class="docstring"><p>Groups of keys that are used in <code><a href="#Splitter.handle_key">handle_key</a></code></p>
</div>


                            </div>
                            <div id="Splitter.parent_align" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Splitter.parent_align">#&nbsp;&nbsp</a>

        <span class="name">parent_align</span><span class="default_value"> = &lt;HorizontalAlignment.RIGHT: 2&gt;</span>
    </div>

    
            <div class="docstring"><p><code><a href="../enums.html#HorizontalAlignment">pytermgui.enums.HorizontalAlignment</a></code> to align widget by</p>
</div>


                            </div>
                            <div id="Splitter.get_lines" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Splitter.get_lines">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_lines</span><span class="signature">(self) -&gt; list[str]</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Join all widgets horizontally.&quot;&quot;&quot;</span>

        <span class="c1"># An error will be raised if `separator` is not the correct type (str).</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_char</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
        <span class="n">separator_length</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>

        <span class="n">target_width</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">separator_length</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">vertical_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">total_offset</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widgets</span><span class="p">:</span>
            <span class="n">inner</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">size_policy</span> <span class="ow">is</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span><span class="p">:</span>
                <span class="n">target_width</span> <span class="o">+=</span> <span class="n">target_width</span> <span class="o">-</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">target_width</span> <span class="o">+</span> <span class="n">error</span>
                <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span>
                <span class="n">error</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">aligned</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="c1"># See `enums.py` for information about this ignore</span>
                <span class="n">padding</span><span class="p">,</span> <span class="n">aligned</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_align</span><span class="p">(</span>
                    <span class="n">cast</span><span class="p">(</span><span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">parent_align</span><span class="p">),</span> <span class="n">width</span><span class="p">,</span> <span class="n">line</span>
                <span class="p">)</span>
                <span class="n">inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aligned</span><span class="p">)</span>

            <span class="n">widget</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">padding</span> <span class="o">+</span> <span class="n">total_offset</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Container&quot;</span> <span class="k">else</span> <span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">aligned</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">total_offset</span> <span class="o">+=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">inner</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">separator_length</span>

            <span class="n">vertical_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner</span><span class="p">)</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">horizontal</span> <span class="ow">in</span> <span class="n">zip_longest</span><span class="p">(</span><span class="o">*</span><span class="n">vertical_lines</span><span class="p">,</span> <span class="n">fillvalue</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">target_width</span><span class="p">):</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">reset</span><span class="p">()</span> <span class="o">+</span> <span class="n">separator</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">horizontal</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">lines</span>
</pre></div>

        </details>

            <div class="docstring"><p>Join all widgets horizontally.</p>
</div>


                            </div>
                            <div id="Splitter.debug" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Splitter.debug">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">debug</span><span class="signature">(self) -&gt; str</span>:
    </div>

            <details>
            <summary>View Source</summary>
            <div class="pdoc-code codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return identifiable information&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Container&quot;</span><span class="p">,</span> <span class="s2">&quot;Splitter&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return identifiable information</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Container">Container</a></dt>
                                <dd id="Splitter.__init__" class="function"><a href="#Container.__init__">Container</a></dd>
                <dd id="Splitter.serialized" class="variable"><a href="#Container.serialized">serialized</a></dd>
                <dd id="Splitter.vertical_align" class="variable"><a href="#Container.vertical_align">vertical_align</a></dd>
                <dd id="Splitter.allow_fullscreen" class="variable"><a href="#Container.allow_fullscreen">allow_fullscreen</a></dd>
                <dd id="Splitter.overflow" class="variable"><a href="#Container.overflow">overflow</a></dd>
                <dd id="Splitter.sidelength" class="variable"><a href="#Container.sidelength">sidelength</a></dd>
                <dd id="Splitter.selectables" class="variable"><a href="#Container.selectables">selectables</a></dd>
                <dd id="Splitter.selectables_length" class="variable"><a href="#Container.selectables_length">selectables_length</a></dd>
                <dd id="Splitter.selected" class="variable"><a href="#Container.selected">selected</a></dd>
                <dd id="Splitter.box" class="variable"><a href="#Container.box">box</a></dd>
                <dd id="Splitter.lazy_add" class="function"><a href="#Container.lazy_add">lazy_add</a></dd>
                <dd id="Splitter.set_widgets" class="function"><a href="#Container.set_widgets">set_widgets</a></dd>
                <dd id="Splitter.serialize" class="function"><a href="#Container.serialize">serialize</a></dd>
                <dd id="Splitter.pop" class="function"><a href="#Container.pop">pop</a></dd>
                <dd id="Splitter.remove" class="function"><a href="#Container.remove">remove</a></dd>
                <dd id="Splitter.set_recursive_depth" class="function"><a href="#Container.set_recursive_depth">set_recursive_depth</a></dd>
                <dd id="Splitter.select" class="function"><a href="#Container.select">select</a></dd>
                <dd id="Splitter.scroll" class="function"><a href="#Container.scroll">scroll</a></dd>
                <dd id="Splitter.scroll_end" class="function"><a href="#Container.scroll_end">scroll_end</a></dd>
                <dd id="Splitter.center" class="function"><a href="#Container.center">center</a></dd>
                <dd id="Splitter.handle_mouse" class="function"><a href="#Container.handle_mouse">handle_mouse</a></dd>
                <dd id="Splitter.execute_binding" class="function"><a href="#Container.execute_binding">execute_binding</a></dd>
                <dd id="Splitter.handle_key" class="function"><a href="#Container.handle_key">handle_key</a></dd>
                <dd id="Splitter.wipe" class="function"><a href="#Container.wipe">wipe</a></dd>
                <dd id="Splitter.print" class="function"><a href="#Container.print">print</a></dd>

            </div>
            <div><dt><a href="base.html#Widget">pytermgui.widgets.base.Widget</a></dt>
                                <dd id="Splitter.set_style" class="function"><a href="base.html#Widget.set_style">set_style</a></dd>
                <dd id="Splitter.set_char" class="function"><a href="base.html#Widget.set_char">set_char</a></dd>
                <dd id="Splitter.is_bindable" class="variable"><a href="base.html#Widget.is_bindable">is_bindable</a></dd>
                <dd id="Splitter.size_policy" class="variable"><a href="base.html#Widget.size_policy">size_policy</a></dd>
                <dd id="Splitter.from_data" class="function"><a href="base.html#Widget.from_data">from_data</a></dd>
                <dd id="Splitter.bindings" class="variable"><a href="base.html#Widget.bindings">bindings</a></dd>
                <dd id="Splitter.id" class="variable"><a href="base.html#Widget.id">id</a></dd>
                <dd id="Splitter.is_selectable" class="variable"><a href="base.html#Widget.is_selectable">is_selectable</a></dd>
                <dd id="Splitter.static_width" class="variable"><a href="base.html#Widget.static_width">static_width</a></dd>
                <dd id="Splitter.relative_width" class="variable"><a href="base.html#Widget.relative_width">relative_width</a></dd>
                <dd id="Splitter.contains" class="function"><a href="base.html#Widget.contains">contains</a></dd>
                <dd id="Splitter.copy" class="function"><a href="base.html#Widget.copy">copy</a></dd>
                <dd id="Splitter.bind" class="function"><a href="base.html#Widget.bind">bind</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">${doc.signature}:</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>